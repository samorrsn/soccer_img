<%= provide(:title, @team.name) %>
<%= render 'header' %>

<div class="panel panel-default">
    <div class="panel-heading">Team Players</div>
    </div>
    <!-- Leaving the body panel of this table empty for now -->
    <div class="panel-body"></div>
    <table class="table table-hover">
        <thead>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Available</th>
                <th>Not Available</th>
            </tr>
        </thead>
        <tbody>
            <% @team_members.each do |team_member| %>
                <tr>
                    <td><p><%= team_member.member_first_name %></p></td>
                    <td><p><%= team_member.member_last_name %></p></td>
                    <td>
                        <% team_member.team_member_availabilities.each do |availability| %>
                            <% if availability.is_available %>
                                <%= "#{availability.date.to_s(:long)} at #{availability.from_time.to_s(:time)}" %><br>
                            <% end %>
                        <% end %>
                    </td>
                    <td>
                        <% team_member.team_member_availabilities.each do |availability| %>
                            <% if !availability.is_available %>
                                <%= "#{availability.date.to_s(:long)} at #{availability.till_time.to_s(:time)}" %><br>
                            <% end %>
                        <% end %>
                    </td>
                    <td>
                        <div class="btn btn-xs">Profile</div>
                        <%= link_to 'Edit', new_team_member_availability_path(team_member_id: team_member.id), class: "btn" %>
                    </td>
                </tr>
            <% end %>
        </tbody>
    </table>
</div>
